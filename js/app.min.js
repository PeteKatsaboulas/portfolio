gsap.registerPlugin(Draggable),gsap.registerPlugin(ScrollTrigger),document.addEventListener("DOMContentLoaded",(function(){gsap.to([".headline",".cta",".work",".theme__mode-toggle"],{y:0,opacity:1,duration:0,stagger:.1})}));const lenis=new Lenis;function raf(e){lenis.raf(e),requestAnimationFrame(raf)}requestAnimationFrame(raf);let styles=getComputedStyle(document.documentElement),largeSlide=parseInt(styles.getPropertyValue("--large-slide"),10),smallSlide=parseInt(styles.getPropertyValue("--small-slide"),10),projects=document.querySelectorAll(".project");projects.forEach((e=>{let t=e.querySelectorAll(".project__slide"),l=e.querySelector(".project__blur").querySelector(".project__slides"),r=e.querySelector(".project__square"),o=e.querySelector(".project__slider").cloneNode(!0);r.appendChild(o);let i=r.querySelector(".project__slides");Draggable.create(l,{type:"x",trigger:e,onDrag:function(){gsap.to(i,{x:this.x*largeSlide/smallSlide,duration:0})},onDragEnd:function(){let e=gsap.utils.snap(smallSlide,this.x);gsap.to(l,{x:gsap.utils.clamp((t.length-1)*-smallSlide,0,e)}),gsap.to(i,{x:gsap.utils.clamp((t.length-1)*-largeSlide,0,e*largeSlide/smallSlide)})},snap:{x:gsap.utils.snap(smallSlide/t.length*t.offsetWidth)}})})),window.innerWidth>600&&gsap.to(".hero",{yPercent:100,ease:"none",scrollTrigger:{scrub:!0}});let windowWidthResize=window.innerWidth;window.onresize=()=>{window.innerWidth!=windowWidthResize&&(windowWidthResize=window.innerWidth,largeSlide=parseInt(styles.getPropertyValue("--large-slide"),10),smallSlide=parseInt(styles.getPropertyValue("--small-slide"),10),gsap.to(".project__slides",{x:0,duration:0}))};let toggleTheme=document.querySelector(".theme__mode-toggle"),toggleThemeBtn=document.querySelector(".toggle-btn");toggleTheme.onclick=()=>{"light"==document.body.getAttribute("data-theme")?document.body.setAttribute("data-theme","dark"):document.body.setAttribute("data-theme","light"),toggleTheme.classList.toggle("active")};